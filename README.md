# ReadingTypeç¼–ç æ™ºèƒ½åŠ©æ‰‹ç³»ç»Ÿ

åŸºäºAIçš„IEC61968-9-2024æ ‡å‡†ReadingTypeç¼–ç ç”Ÿæˆå’Œç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«åç«¯AI Agentå’Œå‰ç«¯Webç•Œé¢ã€‚

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºå¤„ç†ReadingTypeç¼–ç çš„æ™ºèƒ½ç³»ç»Ÿï¼Œéµå¾ªIEC61968-9-2024å›½é™…æ ‡å‡†ï¼Œæä¾›ç¼–ç ç”Ÿæˆã€è§£æã€éªŒè¯ç­‰åŠŸèƒ½ã€‚

### ä¸»è¦åŠŸèƒ½

- ğŸš€ **æ™ºèƒ½ç¼–ç ç”Ÿæˆ**: åŸºäºè‡ªç„¶è¯­è¨€æè¿°ç”Ÿæˆç¬¦åˆæ ‡å‡†çš„ReadingTypeç¼–ç 
- ğŸ” **ç¼–ç è§£æ**: å°†ç¼–ç è½¬æ¢ä¸ºå¯è¯»çš„æè¿°ä¿¡æ¯
- âœ… **è§„èŒƒæ€§éªŒè¯**: æ£€æŸ¥ç¼–ç æ˜¯å¦ç¬¦åˆIEC61968-9-2024æ ‡å‡†
- ğŸ›‘ **æµå¼äº¤äº’**: æ”¯æŒå®æ—¶AIå“åº”å’Œç”¨æˆ·æ§åˆ¶
- ğŸ“Š **å­—å…¸ç®¡ç†**: å®Œæ•´çš„å­—æ®µå­—å…¸å’Œæ•°æ®åº“æ”¯æŒ

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ src/                          # åç«¯æ ¸å¿ƒä»£ç 
â”‚   â”œâ”€â”€ reading_type_agent.py    # ä¸»è¦AI Agent
â”‚   â”œâ”€â”€ enhanced_semantic_parser.py # è¯­ä¹‰è§£æå™¨
â”‚   â”œâ”€â”€ enhanced_dictionary_manager.py # å­—å…¸ç®¡ç†å™¨
â”‚   â””â”€â”€ optimized_reading_type_agent.py # ä¼˜åŒ–ç‰ˆæœ¬
â”œâ”€â”€ ai-assistant-web/            # å‰ç«¯Webåº”ç”¨
â”‚   â”œâ”€â”€ src/app/                 # Next.jsé¡µé¢å’ŒAPI
â”‚   â”œâ”€â”€ src/components/          # Reactç»„ä»¶
â”‚   â””â”€â”€ src/lib/                 # å·¥å…·åº“
â”œâ”€â”€ web/                         # ç®€å•Webç•Œé¢
â”œâ”€â”€ tests/                       # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ data/                        # æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ field_dictionaries.xml   # å­—æ®µå­—å…¸
â”‚   â”œâ”€â”€ reading_type_codes.csv   # ç¼–ç æ•°æ®
â”‚   â””â”€â”€ *.xlsx                   # IECæ ‡å‡†æ–‡æ¡£
â””â”€â”€ requirements.txt             # Pythonä¾èµ–
```

## ReadingTypeç¼–ç æ ‡å‡†

åŸºäºIEC61968-9-2024æ ‡å‡†çš„16å­—æ®µç¼–ç ç»“æ„ï¼š

| å­—æ®µ | åç§° | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|---------|
| 1 | macroPeriod | å®å‘¨æœŸ | 0=æ— ï¼Œ1=å¹´ï¼Œ2=æœˆï¼Œ3=æ—¥ï¼Œ4=æ—¶ |
| 2 | aggregate | èšåˆ | 0=æ— ï¼Œ1=æœ€å¤§ï¼Œ2=æœ€å°ï¼Œ3=å¹³å‡ï¼Œ4=æ€»å’Œ |
| 3 | measurePeriod | æµ‹é‡å‘¨æœŸ | 0=æ— ï¼Œ1=ç§’ï¼Œ2=åˆ†ï¼Œ3=æ—¶ï¼Œ4=æ—¥ |
| 4 | accumulationBehaviour | ç´¯ç§¯è¡Œä¸º | 0=æ— ï¼Œ1=ç´¯ç§¯ï¼Œ2=å·®å€¼ï¼Œ3=ç¬æ—¶ |
| 5 | flowDirection | æµå‘ | 0=æ— ï¼Œ1=æ­£å‘ï¼Œ2=åå‘ï¼Œ3=å‡€å€¼ï¼Œ19=å…¨éƒ¨ |
| 6 | commodity | å•†å“ | 0=æ— ï¼Œ1=ç”µèƒ½ï¼Œ2=ç‡ƒæ°”ï¼Œ3=æ°´ï¼Œ4=æ—¶é—´ |
| 7 | measurementKind | æµ‹é‡ç±»å‹ | 0=æ— ï¼Œ12=ç”µæµï¼Œ13=ç”µå‹ï¼Œ37=åŠŸç‡ï¼Œ38=ç”µèƒ½ |
| 8 | harmonic | è°æ³¢ | 0=æ— ï¼Œ1=åŸºæ³¢ï¼Œ2=è°æ³¢ |
| 9 | argumentNumerator | å‚æ•°åˆ†å­ | 0=æ— ï¼Œ1=Aç›¸ï¼Œ2=Bç›¸ï¼Œ3=Cç›¸ |
| 10 | TOU | åˆ†æ—¶ | 0=æ— ï¼Œ1=å³°æ—¶ï¼Œ2=å¹³æ—¶ï¼Œ3=è°·æ—¶ |
| 11 | cpp | å…³é”®å³°å€¼ä»·æ ¼ | 0=æ—  |
| 12 | tier | é˜¶æ¢¯ | 0=æ— ï¼Œ1=ç¬¬ä¸€é˜¶æ¢¯ï¼Œ2=ç¬¬äºŒé˜¶æ¢¯ |
| 13 | phase | ç›¸ä½ | 0=æ— ï¼Œ1=Aç›¸ï¼Œ2=Bç›¸ï¼Œ3=Cç›¸ï¼Œ64=ä¸‰ç›¸ |
| 14 | multiplier | ä¹˜æ•° | 0=1ï¼Œ3=1000ï¼Œ6=1000000 |
| 15 | uom | å•ä½ | 0=æ— ï¼Œ5=å®‰åŸ¹ï¼Œ29=ä¼ç‰¹ï¼Œ38=ç“¦ç‰¹ï¼Œ72=ç“¦æ—¶ |
| 16 | currency | è´§å¸ | 0=æ— ï¼Œ978=äººæ°‘å¸ |

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- Node.js 18+
- DeepSeek APIå¯†é’¥

### åç«¯è®¾ç½®

1. å®‰è£…Pythonä¾èµ–ï¼š
```bash
pip install -r requirements.txt
```

2. è®¾ç½®ç¯å¢ƒå˜é‡ï¼š
```bash
cp env.example .env
# ç¼–è¾‘.envæ–‡ä»¶ï¼Œæ·»åŠ DEEPSEEK_API_KEY
```

3. è¿è¡Œåç«¯AI Agentï¼š
```bash
python main.py                    # åŸºç¡€ç‰ˆæœ¬
python reading_type_agent.py      # å®Œæ•´ç‰ˆæœ¬
python advanced_ai_agent.py       # é«˜çº§åŠŸèƒ½
```

### å‰ç«¯è®¾ç½®

1. è¿›å…¥å‰ç«¯ç›®å½•ï¼š
```bash
cd ai-assistant-web
```

2. å®‰è£…ä¾èµ–ï¼š
```bash
npm install
```

3. è®¾ç½®ç¯å¢ƒå˜é‡ï¼š
```bash
echo "DEEPSEEK_API_KEY=your_api_key_here" > .env.local
```

4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š
```bash
npm run dev
```

5. è®¿é—®åº”ç”¨ï¼šhttp://localhost:3000

## ä½¿ç”¨ç¤ºä¾‹

### ç¼–ç ç”Ÿæˆ
```
ç”¨æˆ·: ç”ŸæˆAç›¸ç”µå‹é‡æµ‹çš„ReadingTypeç¼–ç 
åŠ©æ‰‹: åˆ†ææ‚¨çš„éœ€æ±‚ï¼šAç›¸ç”µå‹é‡æµ‹
å»ºè®®ç¼–ç : 0.0.0.3.0.1.13.0.1.0.0.0.1.0.29.0
```

### ç¼–ç è§£æ
```
ç”¨æˆ·: è§£æç¼–ç  0.0.0.3.0.1.13.0.1.0.0.0.1.0.29.0
åŠ©æ‰‹: è¿™æ˜¯ä¸€ä¸ªAç›¸ç”µå‹ç¬æ—¶é‡æµ‹ç¼–ç ï¼Œå•ä½ä¸ºä¼ç‰¹...
```

### å­—å…¸æŸ¥è¯¢
```
ç”¨æˆ·: æŸ¥è¯¢measurementKindå­—æ®µ
åŠ©æ‰‹: measurementKindå­—æ®µçš„å¯é€‰å€¼ï¼š
12: ç”µæµ (Current)
13: ç”µå‹ (Voltage)
37: åŠŸç‡ (Power)
38: ç”µèƒ½ (Energy)
```

## æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **Python 3.8+**: æ ¸å¿ƒå¼€å‘è¯­è¨€
- **DeepSeek API**: AIæ¨ç†æœåŠ¡
- **XML/CSV**: æ•°æ®å­˜å‚¨æ ¼å¼
- **æ­£åˆ™è¡¨è¾¾å¼**: ç¼–ç è§£æå’ŒéªŒè¯

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Next.js 15**: Reactå…¨æ ˆæ¡†æ¶
- **TypeScript**: ç±»å‹å®‰å…¨
- **Tailwind CSS**: æ ·å¼æ¡†æ¶
- **React Hooks**: çŠ¶æ€ç®¡ç†
- **Heroicons**: å›¾æ ‡åº“

### AIåŠŸèƒ½
- **è¯­ä¹‰è§£æ**: ç†è§£ç”¨æˆ·è‡ªç„¶è¯­è¨€éœ€æ±‚
- **æ™ºèƒ½æ¨è**: åŸºäºä¸Šä¸‹æ–‡çš„å­—æ®µæ¨è
- **è§„èŒƒéªŒè¯**: ç¡®ä¿ç¼–ç ç¬¦åˆIECæ ‡å‡†
- **æµå¼äº¤äº’**: å®æ—¶å“åº”å’Œæ§åˆ¶

## å¼€å‘å’Œæµ‹è¯•

### è¿è¡Œæµ‹è¯•
```bash
python -m pytest tests/           # è¿è¡Œæ‰€æœ‰æµ‹è¯•
python test_optimization.py       # æ€§èƒ½æµ‹è¯•
python final_compare.py          # åŠŸèƒ½å¯¹æ¯”æµ‹è¯•
```

### ä»£ç è§„èŒƒ
é¡¹ç›®éµå¾ªPython PEP8å’ŒTypeScript/Reactæœ€ä½³å®è·µã€‚

## éƒ¨ç½²

### ç”Ÿäº§æ„å»º
```bash
# å‰ç«¯
cd ai-assistant-web
npm run build
npm start

# åç«¯
python reading_type_agent.py --production
```

### Dockeréƒ¨ç½²
```bash
# æ„å»ºé•œåƒ
docker build -t readingtype-agent .

# è¿è¡Œå®¹å™¨
docker run -p 3000:3000 -p 8000:8000 readingtype-agent
```

## è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»ºPull Request

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## æ›´æ–°æ—¥å¿—

è¯¦è§å„æ¨¡å—çš„READMEæ–‡ä»¶ï¼š
- [åç«¯Agentè¯´æ˜](README_Agent.md)
- [å‰ç«¯Webè¯´æ˜](README-WEB.md)
- [ä¼˜åŒ–æŒ‡å—](OPTIMIZATION_GUIDE.md)

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤Issueæˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚ 